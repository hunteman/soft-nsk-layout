"use strict";function setActiveLink(){const e=document.querySelectorAll(".header__nav-item");e&&e.forEach((e=>{const t=e.href;t&&t===window.location.href&&e.classList.toggle("active")}))}function openMenu(){const e=document.querySelector(".burger"),t=document.querySelector(".header__nav");e&&e.addEventListener("click",(function(){this.classList.toggle("header__nav_open"),t.classList.toggle("header__nav_open")}))}function dropdownListToggle(){const e=document.querySelector(".dropdown-list"),t=document.querySelector(".input-select__btn"),n=e.querySelectorAll(".dropdown-list__item"),o=document.querySelector(".dropdown__input_hidden");t.addEventListener("click",(n=>{n.preventDefault(),e.classList.toggle("dropdown-list_visible"),t.classList.toggle("dropdown-list_visible")})),document.addEventListener("click",(n=>{n.target.closest(".input-select")||(e.classList.remove("dropdown-list_visible"),t.classList.remove("dropdown-list_visible"))})),n.forEach((function(i){i.addEventListener("click",(function(i){n.forEach((function(e){e.classList.remove("dropdown__list-item_active")})),i.target.classList.add("dropdown-list__item_active"),t.children[0].innerText=this.innerText,o.value=this.dataset.value,e.classList.remove("dropdown-list_visible"),t.classList.remove("dropdown-list_visible")}))}))}function fileInputOnChange(){document.querySelector(".input-file input[type=file]").addEventListener("change",(function(){const e=this.files[0];this.parentElement.querySelector(".input-file__text").textContent=e.name}))}function rangeInputOnChange(){const e=document.querySelector("input[type=range]"),t=document.querySelector(".input-range__value");t.innerText=e.value+"%",e.addEventListener("input",(function(){t.innerText=e.value+"%"}))}function preventMenuTransition(){const e=document.querySelector(".header__nav");e.style.transition="none 0s ease 0s",setTimeout((()=>e.removeAttribute("style")),500)}function formValidate(){const e=document.querySelector(".booking__form"),t=document.querySelector(".booking__form__complete-message");e.addEventListener("submit",(function(n){n.preventDefault();const o=[e["system-type"],e["e-mail"],e.name];if(o.forEach((e=>{const t=e.getAttribute("pattern");new RegExp(t).test(e.value)?e.classList.remove("invalid"):e.classList.add("invalid")})),!o.some((e=>e.classList.contains("invalid")))){let n=new FormData;e.classList.add("booking__form_complete"),t.innerHTML=`<p>${e.name.value} ваш заказ №${Date.now()} успешно оформлен. <br>Наш специалист свяжется с вами в ближайшее время.</p>`,t.classList.add("booking__form__complete-message_visible"),document.querySelectorAll(".booking__form input").forEach((e=>{e.classList.remove("invalid"),n.append(e.name,e.value)})),fetch("example.com",{body:n,method:"post"}).then().catch((e=>console.log(e)))}}))}window.addEventListener("DOMContentLoaded",(()=>{setActiveLink(),openMenu(),dropdownListToggle(),fileInputOnChange(),rangeInputOnChange(),formValidate()})),window.addEventListener("resize",(()=>{preventMenuTransition()}));